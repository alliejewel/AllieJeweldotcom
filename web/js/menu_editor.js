(function(d){var j=d(document.getElementById("menu-form")),i=d(document.getElementById("definitions")),h=j.data("prototype"),f=0;var c=function(o){var m=d(o),n=[];m.find("input, select").each(function(p,q){n.push(d(q).val())});return n};var a=function(o,n){var m=d(o);m.find("input, select").each(function(p,q){d(q).val(n.shift())})};var g=function(n,m){var q=d(n),p=d(m);var r=c(q),o=c(p);a(q,o);a(p,r)};var l=function(o){var m=d(o),n=m.prev(".item-row");if(n.size()<=0){return}g(m,n)};var b=function(o){var m=d(o),n=m.next(".item-row");if(n.size()<=0){return}g(m,n)};var k=function(n){var m=d(n);m.find(".remove").click(function(){m.slideUp("fast",function(){m.remove()})});m.find(".move-up").click(function(){l(m)});m.find(".move-down").click(function(){b(m)})};d(".add-item",j).click(function(){e()});var e=function(){var n=h.replace(/__name__/g,f),m=d(n).hide().appendTo(i).slideDown("fast");k(m)};d(".item-row",i).each(function(m,n){f++;k(n)});return{}})(jQuery);